function  IsHeng(bh)
  
    local startpt = GetStartPoint(bh)
    local endpt = GetEndPoint(bh)

    
    endpt = bh.ptSet[#bh.ptSet]
	 if(startpt.x > endpt.x) then
		return false
	 end
    local slope = (startpt.y - endpt.y) / (endpt.x - startpt.x)
    local angel = math.deg ( math.atan(slope))
    
    local angelInter
    local angelFloat
    angelInter,angelFloat = math.modf (angel)
    if (angelFloat > 0.5) then
        angelInter = angelInter + 1
    end
  
    if (math.abs (angelInter )>= 25) then
        return false
    end
	 return true




end


function IsShu ( bh )
	if( bh.GeoType == "KBH") then
		if ( #bh.BDSet > 1) then
			return false
		end
	end
	local startpt = WZEnv.POINT:new()
	local endpt = WZEnv.POINT:new()
	startpt = bh.ptSet[1]
	endpt = bh.ptSet[#bh.ptSet]
	if( endpt.y < startpt.y ) then
		return false
	end
	local slope = ( endpt.x - startpt.x ) / ( endpt.y - startpt.y )
	local angel = math.deg ( math.atan(slope))
	local angelInter
	local angelFloat
	angelInter,angelFloat = math.modf (angel)
	if (angelFloat > 0.5) then
		angelInter = angelInter + 1
	end
	if (math.abs (angelInter )>= 15) then
		return false
	end
	return true
end


function BH2BHXiangJiao(bh1,bh2)
	local threshold = 10
	local jpt = GetJoint(bh1,bh2)
	if (jpt == nil )then
		return false
	end
	print (jpt.x,jpt.y)
	local spt1 = GetStartPoint(bh1)
	local ept1 = GetEndPoint(bh1)
	local spt2 = GetStartPoint(bh2)
	local ept2 = GetEndPoint(bh2)
	local dis10 = GetDistance(spt1,jpt)
	local dis11 = GetDistance(ept1,jpt)
	local dis20 = GetDistance(spt2,jpt)
	local dis21 = GetDistance(ept2,jpt)
	print (dis10,dis11,dis20,dis21)
	if (dis10 < threshold) then
		return false
	end
	if (dis11 < threshold) then
		return false
	end
	if (dis20 < threshold) then
		return false
	end
	if (dis21 < threshold) then
		return false
	end
	return true
end
